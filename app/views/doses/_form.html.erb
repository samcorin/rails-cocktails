<%= simple_form_for [@cocktail, @dose] do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :description %>
    <%= f.input :ingredient_id, collection: Ingredient.all.each { |item| item.id }  %>
    <%= f.input :ingredient, id: "filler-thing" %>

  </div>

  <div class="form-actions">
    <%= f.button :submit %>
    <%= link_to "Back", cocktails_path, class: "float-right back-btn"%>
  </div>
<% end %>

<!-- <script>
var arr = <%= Ingredient.all.each { |item| item.id } %>
new Awesomplete('input[:ingredient_id]', {
  list: [],
  data: function (text, input) {
    return input.slice(0, input.indexOf("@")) + "@" + text;
  },
  filter: Awesomplete.FILTER_STARTSWITH
});
</script> -->

<!-- <script>
  var ajax = new XMLHttpRequest();
  ajax.open("GET", "https://restcountries.eu/rest/v1/lang/fr", true);
  ajax.onload = function() {
    var list = JSON.parse(ajax.responseText).map(function(i) { return i.name; });
    new Awesomplete(document.querySelector("#ajax-example input"),{ list: list });
  };
  ajax.send();
</script> -->

<script>
  var input = document.getElementById("myinput");
  var arr = [];
  <% Ingredient.all.each do |item| %>
    var str = "<%= item.name%>";
    arr.push(str.strip);
  <% end %>
  $(function() {
      new Awesomplete(input, {
        list: arr
      });
   });
</script>

<script>
$(document).ready(function() {
    var availableTags = [
      "ActionScript",
      "AppleScript",
      "Asp",
      "BASIC",
      "C",
      "C++",
      "Clojure",
      "COBOL",
      "ColdFusion",
      "Erlang",
      "Fortran",
      "Groovy",
      "Haskell",
      "Java",
      "JavaScript",
      "Lisp",
      "Perl",
      "PHP",
      "Python",
      "Ruby",
      "Scala",
      "Scheme"
    ];
    $( "#filler-thing" ).autocomplete({
      source: availableTags
    });
})
  </script>
</script>
